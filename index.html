<!DOCTYPE html>
<html>

<head>
    <script type="text/javascript" src="jquery-3.5.1.min.js"></script>
</head>

<body>
    <form method="post" id="form_mhs">
        <label>NIM </label>
        <input id="nim" type="number" name="nim"><br>
        <label>Nama </label>
        <input type="text" name="nama"><br>
        <label>Prodi </label>
        <select name="prodi">
                <option value="IF">Teknik Informatika</option>
                <option value="EL">Teknik Elektro</option>
                <option value="SI">Teknik Sipil</option>
                <option value="TG">Teknik Geofisika</option>
                <option value="MA">Matematika</option>
        </select><br>
        <label>Angkatan </label>
        <input type="number" name="angkatan"><br>
    </form>
    <button id="btn_tampil">Add</button>
    <button id="btn_update">Update</button>
    <button id="btn_delete">Delete</button>
    <hr>
    <div id="tampil_data"></div>
    <script>
        $(document).ready(function() {
            $('#tampil_data').load("tampil.php");
            $('#btn_tampil').click(() => {
                const data = $('#form_mhs').serialize();
                $.ajax({
                    type: 'POST',
                    url: "tambah.php",
                    data: data,
                    cache: false,
                    success: function(data) {
                        $('#tampil_data').load("tampil.php");
                    },
                    error: function(request, error) {
                        console.log(arguments);
                        alert(" Can't do because: " + error);
                    }
                });
            });
            $('#btn_update').click(() => {
                console.log('HALLO')
                const data = $('#form_mhs').serialize();
                $.ajax({
                    type:'POST',
                    url: 'update.php',
                    data: data,
                    cache: false,
                    success: (data) => {
                        console.log(data);
                        $('#tampil_data').load('tampil.php');
                    },
                    error: function(request, error) {
                        console.log(error);
                        alert(" Can't do because: " + error);
                    }
                });
            });
            $('#btn_delete').click(() => {
                console.log('HALLO')
                const data = $('#nim').serialize();
                
                $.ajax({
                    type:'POST',
                    url: 'delete.php',
                    data: data,
                    cache: false,
                    success: (data) => {
                        console.log(data);
                        $('#tampil_data').load('tampil.php');
                    },
                    error: function(request, error) {
                        console.log(error);
                        alert(" Can't do because: " + error);
                    }
                });
                
            });
            
        });
    </script>
</body>

</html>